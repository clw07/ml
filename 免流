mode: rule
log-level: debug
allow-lan: true
mixed-port: 7890
unified-delay: true
find-process-mode: strict
keep-alive-interval: 30
geo-update-interval: 24
geo-auto-update: false

udp: true
ipv6: true # å¯ç”¨ IPv6 æ”¯æŒ
tcp-fast-open: true
geodata-mode: true
tcp-concurrent: true
geodata-loader: standard
global-client-fingerprint: android
profile:
  store-selected: true
  store-fake-ip: true
tun:
  enable: true
  stack: system 
  auto-route: true 
  auto-redir: true
  auto-detect-interface: true 
dns:
  enable: true
  listen: :1054
  mtu : 9000
  cache-size: 512  # å¢åŠ ç¼“å­˜å¤§å°
  espect-rules: true
  fake-ip-range: 198.18.0.1/16

  respect-rules: true
  enhanced-mode: redir-host
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
    - "+.market.xiaomi.com"
  
  nameserver:
    - 142206.alidns.com
   
    - 119.29.29.29
    - 1.1.1.1
    - 8.8.8.8
  proxy-server-nameserver:
    - 142206.alidns.com
    
    
    - 119.29.29.29
    - 1.1.1.1
    - 8.8.8.8
  nameserver-policy:
   "geosite:cn":
      - 142206.alidns.com
      
      
      - 119.29.29.29
      
   "geosite:geolocation-!cn":
      - 1.1.1.1
      - 8.8.8.8
      
  
  

proxy-providers:
  å›½é™…:
    type: http
    url: "https://raw.githubusercontent.com/clw07/ml/main/å…æµ.yaml"
    path: ./ProxyProviders/å›½é™….yaml
    header:
      User-Agent:
      - "Clash/v1.18.0"
      - "mihomo/v1.18.5"
      - "Clash.Meta/v2.10.2"
    interval: 3600
    health-check:
      lazy: true
      enable: true
      url: http://g.alicdn.com/  # ä½¿ç”¨å…æµ URL è¿›è¡Œå¥åº·æ£€æŸ¥
      interval: 600
  æœ¨ç“œ:
    type: http
    url: "https://xz.muguacloud.shop/api/v1/client/subscribe?token=5cdaa42b2a9aca037d53ce1cdd9f6b6f"
    path: ./ProxyProviders/æœ¨ç“œ.yaml
    header:
      User-Agent:
      - "Clash/v1.18.0"
      - "mihomo/v1.18.5"
      - "Clash.Meta/v2.10.2"
    interval: 3600
    health-check:
      lazy: true
      enable: true
      url: http://g.alicdn.com/  # ä½¿ç”¨å…æµ URL è¿›è¡Œå¥åº·æ£€æŸ¥
      interval: 600



    

proxy-groups:
  - name: proxy
    type: select
    url: 'http://g.alicdn.com/'
    icon: "https://raw.githubusercontent.com/NB921/picture/main/Golbal.png"
    proxies:
      - å›½å¤–
      - å›½å¤–è‡ªåŠ¨
      
  - name: domestic
    type: select
    url: 'http://g.alicdn.com/'
    icon: "https://raw.githubusercontent.com/NB921/picture/main/Sdxz.png"
    proxies:
      - å›½å†…
      - å›½å†…è‡ªåŠ¨
      - proxy
      - DIRECT
      
  - name: å›½å†…
    type: select
    url: 'http://g.alicdn.com/'
    icon: "https://raw.githubusercontent.com/NB921/picture/main/Health.png"
    use:
      - å›½é™…
      - æœ¨ç“œ
    filter: "(?i)CN|å¾|æ­¦|æµ"

     
  - name: å›½å†…è‡ªåŠ¨
    type: url-test
    use:
      - å›½é™…
      - æœ¨ç“œ
    url: http://g.alicdn.com/  # ä½¿ç”¨å…æµ URL è¿›è¡Œæµ‹é€Ÿ
    lazy: true
    interval: 300
    icon: "https://raw.githubusercontent.com/NB921/picture/main/Sdxz.png"
    tolerance: 35
    filter: "(?i)CN|å¾|æ­¦|æµ|å·"
    
  
  - name: å›½å¤–
    type: select
    url: 'http://g.alicdn.com/'
    use:
      - å›½é™…
      - æœ¨ç“œ
    exclude-filter: "(?i)CN|å¾|æ­¦|æµ|å·|ç¦æ­¢|å®˜ç½‘|ä»¥ä¸‹|å‰©ä½™|åˆ°æœŸ|tg"
      
  - name: 'å›½å¤–è‡ªåŠ¨'
    type: url-test
    use:
      - å›½é™…
      - æœ¨ç“œ
    url: 'http://g.alicdn.com/'  # ä½¿ç”¨å…æµ URL è¿›è¡Œæµ‹é€Ÿ
    lazy: true
    interval: 300
    tolerance: 35
    exclude-filter: "(?i)CN|å¾|æ­¦|æµ|å·|ç¦æ­¢|å®˜ç½‘|ä»¥ä¸‹|å‰©ä½™|åˆ°æœŸ|tg"
    
      
  - name: ğŸ›‘ AdBlock
    type: select
    icon: "https://raw.githubusercontent.com/NB921/picture/main/Yu.png"
    proxies:
      - REJECT
      - PASS
      - å›½å¤–

rules:
  - RULE-SET,anti-ad,ğŸ›‘ AdBlock

  - DOMAIN,mcdn.bilivideo.cn,REJECT
  - DOMAIN,tracker.biliapi.net,REJECT
  - DOMAIN-SUFFIX,chat.bilibili.com,REJECT
  - DOMAIN-SUFFIX,szbdyd.com,REJECT
  - DOMAIN,dig.bdurl.net,REJECT
  - DOMAIN,g.cn.miaozhen.com,REJECT
  - DOMAIN,im-x.jd.com,REJECT
  - DOMAIN,ads3-normal-lq.zijieapi.com,REJECT
  - DOMAIN,log-api.pangolin-sdk-toutiao-b.com,REJECT
  - DOMAIN,tobapplog.ctobsnssdk.com,REJECT
  - DOMAIN,toblog.ctobsnssdk.com,REJECT
  - DOMAIN,api-access.pangolin-sdk-toutiao.com.cn,REJECT
  - DOMAIN,dig.zjurl.cn.cn,REJECT

  - DOMAIN-SUFFIX,.xn--ngstr-lra8j.com,proxy
  - DOMAIN-SUFFIX,.googleapis.cn,proxy
  - DOMAIN-SUFFIX,.dev,proxy
  - GEOSITE,youtube,proxy

  - GEOSITE,CN,domestic
  - GEOIP,CN,domestic
  - GEOSITE,category-ads-all,ğŸ›‘ AdBlock
  - GEOSITE,category-httpdns,ğŸ›‘ AdBlock
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,proxy
  - DOMAIN-SUFFIX,services.googleapis.cn,proxy
  
  - DOMAIN-SUFFIX,xn--ngstr-cn-8za9o.com,proxy
  - DOMAIN-SUFFIX,services.googleapis.cn,proxy
  - RULE-SET,ç§‹é£å¹¿å‘Šè§„åˆ™,ğŸ›‘ AdBlock
  - RULE-SET,OpenAI,proxy
  - AND,(AND,(DST-PORT,443),(NETWORK,UDP)),(NOT,((GEOSITE,cn))),REJECT # quic
 # - AND,((RULE-SET,anti-ad),(NOT,((RULE-SET,anti-AD-white)))),ğŸ›‘ AdBlock
  - DOMAIN-SUFFIX,o33249.ingest.sentry.io,ğŸ›‘ AdBlock
  - DOMAIN-SUFFIX,openaicom.imgix.net,ğŸ›‘ AdBlock
  

  - MATCH,proxy

rule-providers:
 anti-ad:
    type: http
    behavior: domain
    url: https://anti-ad.net/clash.yaml
    path: ./Rules/anti-ad
    interval: 60000
  
 ç§‹é£å¹¿å‘Šè§„åˆ™:
    type: http
    behavior: domain
    format: yaml
    path: ./Rules/AWAvenue-Ads-Rule-Clash
    #æ­¤å¤„â€œ/rule_providersâ€è‡ªè¡Œå‚è€ƒ
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main//Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 60480
 OpenAI:
    type: http
    behavior: classical
    format: yaml
    path: ./Rules/OpenAI
    #æ­¤å¤„â€œ/rule_providersâ€è‡ªè¡Œå‚è€ƒ
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml"
    interval: 60480
  